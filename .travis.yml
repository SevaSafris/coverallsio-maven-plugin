# Copyright (c) 2019 safris.org
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P report,deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: hzynM84tmR7TyeaswE7tOt+2f1v2a7VH7QpEh34AyDNVOz4MctIbZMBwXd5FndIi7FTqfslpyIovnP9wxT0I+qXpMFK9hGX4UdwcA/b/+pF77bLmAVzG+FaxMLE6L3XB7zrjTWLIOxrt9hqH4zgtJ/+GT4s0u1TPO+i/5Z0skh3f4KjskCXD+5f/lmbxQsli4w8RaKdhcOQuaw5BN7qb3ghLi2qEOU7JhWbO5tRBiVDxeXoIjIsV3kvi4bzfjIOaHrgdvG9VxHw/pVkjLAgsjuYuFYYf9Cp5d9ANgNetEGVBh6YiDOVlTysQ4zw1ICdE6ypQVmhM0aijKIQXj11UkNvvUCzImg+Et7PPzMbp2j3GUFIbqI4dbMZT+Xuvoi5No0E7WP7sErZ4FOzTYorFltB2HN9ZTmhWMWf9dXBM0qbOtZ+6MpPKpbS1R67dA6TG2nBWBpPvFqf6FBDMPl7buRjgM7dgo1ypVybwz29wn+t9Ebk9/WsIHr+ZDTf00p3tpwVEln5pt8B6mzMEI4YF84age+jcisw9EzrvugM+FdgQ+LXDZEicEv8nq11C+29V0ROLNe1FLuYcmmlh4dWDp8UfzfQ0YiYaJoxGnZeCiofp66VxglyTaVt3OGx9BJjYINeXgXQnyqv/G7IrGLgwjjP0KulvrK8dIILf2UecNd8=
  - secure: kKq5+nfxa9CAsOFDuULUMKUEe1OIt1+kAv2cOky6tmE8SEz9xCgZ4NqB7mNWG6HsesRIT9tWtV/5D8n9pFx4V5bUbh0R4gRb0YpW1obizLtIsmwdyzzMDFcy3X6a62cn1vWBgJT58seUnqG0fSIOcvrLxlqyFquwMIIdbQmlICyvnuon/4tg8gowr3iGnCDsI42QZ+xdIjn9IFP0qepBZs8yph+X0dkF/2Kk83j5SLP9UBsPBvIjGiF3G742pp8/Ny5VWxc5fHDdDiV4TfSoxijS7u2RG1OxMBRMIQAqB3K7QUGGPJKpi8I+VUC4e20NOmol1lo26xshB/Ji+EJ9azChJzk5E7hWvul0Z6ceiMXL7TJkVGK6sMHoQANbY1a9rZTeEaml9IKS29G6CZ+EqLhHJpUe03KhfFDikdyC4LJswZ6IB8tCn7QZPhCRHdXkr5dBObYCdDk78Uj50+RRQPfw+5HeIhidwF6ejl+H7cENqHOvSM9U99KC0eI356tVWnymprCLQ9L5vGzDp+sZ+VSwWVS9QHWHcEJSE/LPRTNAF0807BJ7rKddyqVCauTv6naJ8ec61/CGZPo0WjE6jveF6DYKg4NC/w8McwywZLsS0R3rda73IbmS3pbXtHlLCdxeOUhe4aBRaiCfQsNhFtyUxd5vKiKYRIJ3T3OKbKg=
  - secure: RtiZvNto+u247u2xUeETJ3/yDuH4xTo/MbPpn/H8GQnlLNQVn9x+Wm5cmr4jb12MYDuYqP70vhz+tGLAvHFbh/1HGRQZimfvCL/UgMP9L800txkmtqgnmrSbb+BDpBJ9+WK08GFOHih6bCBg2FXade+oHGdefYJAIU8q7D09Enzqpsw3ZwB55OGRytSuTpYBj2/z/qSWf32+jaJLw+ttAcw0QyFa2Nh5hXxdntYJuLwai/P53GRn60lU1pNDh/5uRtWvFahWF3C9F8Jv+eX0GqhZ3LWBNyPS7NBpQlTl73upknopVnZo5vBG8WesOfkWq7C+oh1xDaiQLZUyshmYGoBCteUEMjsISqDkjnm+x3EP9w/AXHS9Ks0rlpRFt6usOWkibGEOpLNZgL4kY8+ZZVu4fJz4Oq3XgJFGixhBpZLps0Wy2+gQ1t0ETfkmE4UPzL5e8f0qX7bF4Je81PXel+smAPAjVuinncFweJ9dwn6HxlPPnQ9dTUTBuHeC99gdkxsoGieQljXJei2I9lguiIzVV7aLyA5zUO0s+cO9XDUiqUrtDbt1cbW45wZ9DZiVVOTRhClgCD/Ge2hGtJT7UX4QA5gkAmKqI0cbsMYk52rjs6ceFNSf0UY9wBmVx5FPBa4WQyoXDRWQKqzU8KK2Z6CdQWTdpTDZb8CCSg/N2uU=
  - secure: foybf+bfAtMdFb4G9Nd680HY4X1axg4E/h+hWyyo8RIx3fLFsoLbeWhLTvjhud8VwIskumtfM8vumtwIe0zvTKnIY49D73ZFQrTUEtW/8iNxD110jal+Boe//ohqRWqdJQ+zLOMzzn0HHqtvpIXiKGhJWmI9Uls35chz+7C9XE5cGPq6t+IjDcDkeyx890Gg37hvXFfn6tgUett7RmC/pAZrIZmLtC9xKzxAQtk5v2FrWN0QXfgLppebBCuxlaRcqoyAl2ErfV1Fp7o1HLBNlZL1anFrFDzHqUCoEmxUfIPAk9nJlQd6WvtbnkFI/LBktdB+FrYY0ED/YCGXzp0fiv82xxZTKnzhzJsK7yPdEd+5RfDQEKKrnnhzmlGQWbOWqoZiGsjzHauiRrO1cfy8VNSSM1mLiJpTDprU2CQ1Rm7n323SwHAkc27l2jeE1uW4kYKQcLpaffCCnL0zB0905SU/14hQ/7A9qPbFAZzwJpudY2cL+x8F4oHTvMijo3C75H8qK3WvutbGSbkqodo9Ac3AgNmb6gF1f3ACcDHuQzDNuTzq1Ocbbzg/Xa8z5A/bjvO9FVTL1vO9TjnS7w64CossrXt67MwXjSkst792o6LT9YjBp7VA0IALLC1Ub7vaWUjaeCiEyuOEb3g9I5O+3CfUayY4zPozUWAcWHdOLJo=
  - secure: s5akVOGZy8IdSQDlrWFuai8+7weRXpYMRsBuzFfGo+lq2R4G7n1LNJLyeKx+FzQ0qGaoJT8oRlJGF8gOQAHyX0Q8HHZZwxxrJey3KmfxgTYGIqPXpyn/mduDcQZszeaXJAY4rh561xT2Vg+aBkiPLSbEQB9E+JDsmn/S4RbrqAZmegfw7mHZwZMPNTqKkH3APM5rsxpm5OiacIIMLyZAXzo2lEtn3mU7kYzQ+Bx25RfDXdDcSfA9G7JwjVBxS3uO0zMJskHYv1kqQ3WqUlWdAAH78wQ8UVsf73G8iMGbqe1unmWgsAGpJRagcVno1YyCGee3qZPg6xojBmSJdEkDLNRs6QF18ncPgXY1mIFsxSPGejmgS6WhGDoIdC6MdY4qKX15ea6p7twq4Ke3rgAWpEfgBRvfI7B0hdbl7QtLMLppSiu/FuheTU64FW+5t16l6tXfeO8obE79Ns48SygMW+ArMkIPzwM0ONQuHL4g4upB4IHHgo7TFEAVr5DdeQwGSO9+522QQvgvFfvDtmqCVNDQAguQP4B2W+ImxbZHzmNOSiYt33E3GGKFKkWc2doHdXdeBMYpmaO8Dx1BvkZxtjqMTjggNEMkBOn0hNgVepXNEe2wZqrd/UNUH7bI35Theu9kuTIQRVvZCJ32xYkyJUcMKO+Y+R2C7DKbOqKf5tQ=
  - secure: izZv9ckFlcqisCpLDyug64lHaykjawrktZcMv7aV7vCQr3p9P0qZxLp3WZ99nZ9h57WlWF1unNegMBmT+0Y2f4QaOMLgKgC9e3lX8l3YYt3zI5+tgXLkQmvHBc/mEZoaMtKivQaCr52TKCQnCQuYS74bm/K6gMSTD3fD03LrTKl+2Ori93QT523V76DL5vVWrcrV0JR2GKH0HibDLJmBKeYwweaMAsAAhyKyAcJI0jJ+sgQKZ3wyYtKOnkqkVnac7mZfm6zK+jBdXIdzWj4I+cwoGWijA0sXqGHNXgS2JEyRNCxxkpJN0ai2+6GCqyfb3YlOAKpsFj8PCa3ZBotPM/i4uWBYlSG16szJhSbOMlEJeu+WJMIsqd83AS76SOxYUo0PvJKlxIrHxsCDVUdbesvxt4L2XWtwoRjI5y1YQAlgGUdRq/z2Y1PFFiLqwYC+Ft/3ZktHpTpouo0sv3xRM33Hbiibrn3Pl4SeN9D6Fo/y4cHtoHioP6qpENbiY8eFZf9223Z9j1C0CukEFgz57JD5L/SecYpeenCUDxFFgp/014xv6+AQibNXJOqkMfUjh7x8wZ/ASN15R935E/iQ1m8qGA1RGyrsAD+Utd0I9OyBWuNQuRlGgyBiWS+5S3yNl4JdtGul5tgwEdkIwT4yaU/VZUEgGLPb/Jbhy2xAsSk=
  - secure: mbbeFAQ2BpGikgcjrg+NoTZPQpwsxFUi5u895uoLes1WPZQaQy/6WcxmdySaxALH+KUp2SrKLJHZvr1BxgU+vBozcW41yl8ktdcAOt7rCjMU7I0Ay/SBlHH7MoK2GQKMqr5WZQ/xnNeHkHGh+mqkmduD2rYeIrdokTFKJOMHnE73rW4ogZRU3wCPg0Snn4wbYKmHL0ib6TOOV0U2PjGaCCE073jey4gkFjYTLeFx7pPkdEY01LXy406ObWbiGzYcVM6FstSwF0V3mjelfvYs1gF88eXPg3OpHjrKTtRpmz47r6jWlHZRcMlm0KTZhbMpz4ejMbXRIJm7l/V/VwU3LKSVq2vp5+pG1s5VUkIN0O8aZprzUOlJe9oPl4kN//eC1P53LGMQ59n+Fp7FPzQ7N/OYCIT+S70mh73MKtrxajSHtEzHiAmVa4iCiYLgpOtDafzYGmW5Yc0iVSdE9ipeuSHH7ezbbhX+9RL1T/DZ3M8ZwlcaW4Ry48t9ceyXk1jgzkPIE9n3cB85Zs/qEkC+Mr8JGURFBJYQOmZ3J4VbYYrRpZ08TJ4tXWMVycOcrHxuzWEJOiKaIpGezw4Uexnf+M59Q0LIYAUzGU/GIqs60F4pDOteyxtfyuSxqXK5bgQ5X4F4cHAQqqLVgLvC++ve63SaagGTLC+wiiF1VzJvgwg=
